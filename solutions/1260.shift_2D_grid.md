# 1260.Shift 2D Grid 

### LeetCode é¢˜ç›®é“¾æ¥

[1260.Shift 2D Grid](https://leetcode.com/problems/shift-2d-grid/)

### é¢˜ç›®å¤§æ„

ç»™ä¸€ä¸ª `m x n` åˆ—çš„äºŒç»´ç½‘æ ¼ `grid` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œéœ€è¦å°† `grid` è¿ç§» `k` æ¬¡

æ¯æ¬¡ã€Œè¿ç§»ã€æ“ä½œå°†ä¼šå¼•å‘ä¸‹è¿°æ´»åŠ¨ï¼š
- ä½äº `grid[i][j]` çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[i][j + 1]`
- ä½äº `grid[i][n - 1]` çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[i + 1][0]`
- ä½äº `grid[m - 1][n - 1]` çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ° `grid[0][0]`

è¯·è¿”å› `k` æ¬¡è¿ç§»æ“ä½œåæœ€ç»ˆå¾—åˆ°çš„`äºŒç»´ç½‘æ ¼`

![alt text](example22.png)

è¯´æ˜:
- m == grid.length
- n == grid[i].length
- 1 <= m <= 50
- 1 <= n <= 50
- -1000 <= grid[i][j] <= 1000
- 0 <= k <= 100

### è§£é¢˜

```java
class Solution {
    public List<List<Integer>> shiftGrid(int[][] grid, int k) {
        // æŠŠäºŒç»´ grid æŠ½è±¡æˆä¸€ç»´æ•°ç»„
        int m = grid.length, n = grid[0].length;
        int mn = m * n;
        k = k % mn;
        // å…ˆæŠŠæœ€å k ä¸ªæ•°ç¿»è½¬
        reverse(grid, mn - k, mn - 1);
        // ç„¶åæŠŠå‰ mn - k ä¸ªæ•°ç¿»è½¬
        reverse(grid, 0, mn - k - 1);
        // æœ€åæŠŠæ•´ä½“ç¿»è½¬
        reverse(grid, 0, mn - 1);

        // è½¬åŒ–æˆ Java List
        List<List<Integer>> res = new ArrayList<>();
        for (int[] row : grid) {
            List<Integer> rowList = new ArrayList<>();
            for (int e : row) {
                rowList.add(e);
            }
            res.add(rowList);
        }
        return res;
    }

    // é€šè¿‡ä¸€ç»´æ•°ç»„çš„ç´¢å¼•è®¿é—®äºŒç»´æ•°ç»„çš„å…ƒç´ 
    int get(int[][] grid, int index) {
        int n = grid[0].length;
        int i = index / n, j = index % n;
        return grid[i][j];
    }

    // é€šè¿‡ä¸€ç»´æ•°ç»„çš„ç´¢å¼•ä¿®æ”¹äºŒç»´æ•°ç»„çš„å…ƒç´ 
    void set(int[][] grid, int index, int val) {
        int n = grid[0].length;
        int i = index / n, j = index % n;
        grid[i][j] = val;
    }

    // ç¿»è½¬ä¸€ç»´æ•°ç»„çš„ç´¢å¼•åŒºé—´å…ƒç´ 
    void reverse(int[][] grid, int i, int j) {
        while (i < j) {
            int temp = get(grid, i);
            set(grid, i, get(grid, j));
            set(grid, j, temp);
            i++;
            j--;
        }
    }
}
```
```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def shiftGrid(self, grid: List[List[int]], k: int) -> List[List[int]]:
        # æŠŠäºŒç»´ grid æŠ½è±¡æˆä¸€ç»´æ•°ç»„
        m, n = len(grid), len(grid[0])
        mn = m * n
        k = k % mn
        # å…ˆæŠŠæœ€å k ä¸ªæ•°ç¿»è½¬
        self.reverse(grid, mn - k, mn - 1)
        # ç„¶åæŠŠå‰ mn - k ä¸ªæ•°ç¿»è½¬
        self.reverse(grid, 0, mn - k - 1)
        # æœ€åæŠŠæ•´ä½“ç¿»è½¬
        self.reverse(grid, 0, mn - 1)

        # è½¬åŒ–æˆ Python List
        res = []
        for row in grid:
            rowList = []
            for e in row:
                rowList.append(e)
            res.append(rowList)
        return res

    # é€šè¿‡ä¸€ç»´æ•°ç»„çš„ç´¢å¼•è®¿é—®äºŒç»´æ•°ç»„çš„å…ƒç´ 
    def get(self, grid, index):
        n = len(grid[0])
        i, j = divmod(index, n)
        return grid[i][j]

    # é€šè¿‡ä¸€ç»´æ•°ç»„çš„ç´¢å¼•ä¿®æ”¹äºŒç»´æ•°ç»„çš„å…ƒç´ 
    def set(self, grid, index, val):
        n = len(grid[0])
        i, j = divmod(index, n)
        grid[i][j] = val

    # ç¿»è½¬ä¸€ç»´æ•°ç»„çš„ç´¢å¼•åŒºé—´å…ƒç´ 
    def reverse(self, grid, i, j):
        while i < j:
            temp = self.get(grid, i)
            self.set(grid, i, self.get(grid, j))
            self.set(grid, j, temp)
            i += 1
            j -= 1
```
```js
ar shiftGrid = function(grid, k) {
    // æŠŠäºŒç»´ grid æŠ½è±¡æˆä¸€ç»´æ•°ç»„
    let m = grid.length, n = grid[0].length;
    let mn = m * n;
    k = k % mn;
    // å…ˆæŠŠæœ€å k ä¸ªæ•°ç¿»è½¬
    reverse(grid, mn - k, mn - 1);
    // ç„¶åæŠŠå‰ mn - k ä¸ªæ•°ç¿»è½¬
    reverse(grid, 0, mn - k - 1);
    // æœ€åæŠŠæ•´ä½“ç¿»è½¬
    reverse(grid, 0, mn - 1);

    // è½¬åŒ–æˆ Javascript æ•°ç»„
    let res = [];
    for (let row of grid) {
        let rowList = [];
        for (let e of row) {
            rowList.push(e);
        }
        res.push(rowList);
    }
    return res;
};

var get = function(grid, index) {
    let n = grid[0].length;
    let i = Math.floor(index / n), j = index % n;
    return grid[i][j];
};

var set = function(grid, index, val) {
    let n = grid[0].length;
    let i = Math.floor(index / n), j = index % n;
    grid[i][j] = val;
};

var reverse = function(grid, i, j) {
    while (i < j) {
        let temp = get(grid, i);
        set(grid, i, get(grid, j));
        set(grid, j, temp);
        i++;
        j--;
    }
};
```

- æ—¶é—´å¤æ‚åº¦: `O(mn)`
- ç©ºé—´å¤æ‚åº¦: `O(mn)`