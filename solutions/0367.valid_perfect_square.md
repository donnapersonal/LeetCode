# 367.Valid Perfect Square

### LeetCode 题目链接

[367.Valid Perfect Square](https://leetcode.com/problems/valid-perfect-square/)

### 题目大意

给一个正整数 `num`，若 `num` 是一个完全平方数，则返回 `true`，否则返回 `false` 

`完全平方数`：是一个可以写成某个整数的平方的整数，即，它可以写成某个整数和自身的乘积

不能使用任何内置的库函数，如 `sqrt` 

### 解题

#### 思路 1: Brute Force

```java
class Solution {
    public boolean isPerfectSquare(int num) {
        for (int i = 1; i * i <= num; i++) {
            if (i * i == num) {
                return true;
            }
        }
        return false;
    }
}
```
```python
class Solution:
  def isPerfectSquare(self, num: int) -> bool:
    for i in range(1, num + 1):
      if i * i == num:
        return True
    return False
```
```js
var isPerfectSquare = function(num) {
    for (let i = 1; i <= num; i++) {
            if (i * i === num) {
                return true;
            }
        }
        return false;
};
```

所使用的暴力方法在处理大输入时会导致超时，以下写法可提交成功

```js 
var isPerfectSquare = function(num) {
    for (let i = 1; i * i <= num; i++) {
        if (i * i === num) {
            return true;
        }
    }
    return false;
};
```

#### 思路 2: 二分搜索

若 `num` 是完全平方数，则 `num = x * x`，`x` 为整数，问题变为了对于正整数 `num`，是否能找到一个整数 `x`，使得 `x * x = num`

对于 `x`，可以通过二分查找算法快速找到

```java
class Solution {
    public boolean isPerfectSquare(int num) {
        int left = 1, right = num;
        while (left <= right) {
            int mid = left + (right - left) / 2;
            long square = (long) mid * mid;
            if (square > num) {
                right = mid - 1;
            } else if (square < num) {
                left = mid + 1;
            } else {
                return true;
            }
        }
        return false;
    }
}
```
```python
class Solution:
    def isPerfectSquare(self, num: int) -> bool:
        l, r = 1, num
        while l <= r:
            mid = l + (r - l) // 2
            if mid * mid > num:
                r = mid - 1
            elif mid * mid < num:
                l = mid + 1
            else:
                return True
        return False
```
```js
var isPerfectSquare = function(num) {
    let left = 1, right = num;
    while(left <= right) {
        let mid = left + Math.floor((right - left) / 2);
        if(mid * mid > num) {
            right = mid - 1;
        } else if(mid * mid < num) {
            left = mid + 1;
        } else {
            return true;
        }
    }
    return false;
};
```
- 时间复杂度: `O(log n)`
- 空间复杂度: `O(1)`