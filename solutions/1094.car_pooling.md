# 1094.Car Pooling

### LeetCode é¢˜ç›®é“¾æ¥

[1094.Car Pooling](https://leetcode.com/problems/car-pooling/)

### é¢˜ç›®å¤§æ„

è½¦ä¸Šæœ€åˆæœ‰ `capacity` ä¸ªç©ºåº§ä½ï¼Œè½¦`åªèƒ½`å‘ä¸€ä¸ªæ–¹å‘è¡Œé©¶ï¼ˆå³ï¼Œä¸å…è®¸æ‰å¤´æˆ–æ”¹å˜æ–¹å‘ï¼‰

ç»™å®šæ•´æ•° `capacity` å’Œä¸€ä¸ªæ•°ç»„ `trips`, `trip[i] = [numPassengers_i, from_i, to_i]` è¡¨ç¤ºç¬¬ `i` æ¬¡æ—…è¡Œæœ‰ `numPassengers_i` ä¹˜å®¢ï¼Œæ¥ä»–ä»¬å’Œæ”¾ä»–ä»¬çš„ä½ç½®åˆ†åˆ«æ˜¯ `from_i` å’Œ `to_i`ï¼Œè¿™äº›ä½ç½®æ˜¯ä»æ±½è½¦çš„åˆå§‹ä½ç½®å‘ä¸œçš„å…¬é‡Œæ•°

å½“ä¸”ä»…å½“ä½ å¯ä»¥åœ¨æ‰€æœ‰ç»™å®šçš„è¡Œç¨‹ä¸­æ¥é€æ‰€æœ‰ä¹˜å®¢æ—¶ï¼Œè¿”å› `true`ï¼Œå¦åˆ™è¯·è¿”å› `false`

```js
Example 1:
Input: trips = [[2,1,5],[3,3,7]], capacity = 4
Output: false

Example 2:
Input: trips = [[2,1,5],[3,3,7]], capacity = 5
Output: true
```

è¯´æ˜:
- 1 <= trips.length <= 1000
- trips[i].length == 3
- 1 <= numPassengersi <= 100
- 0 <= fromi < toi <= 1000
- 1 <= capacity <= 10^5

### è§£é¢˜

`trips[i]` ä»£è¡¨ç€ä¸€ç»„åŒºé—´æ“ä½œï¼Œæ—…å®¢çš„ä¸Šè½¦å’Œä¸‹è½¦ç›¸å½“äºæ•°ç»„çš„åŒºé—´åŠ å‡ï¼›åªè¦ç»“æœæ•°ç»„ä¸­çš„å…ƒç´ éƒ½å°äº `capacity`ï¼Œå°±è¯´æ˜å¯ä»¥ä¸è¶…è½½è¿è¾“æ‰€æœ‰æ—…å®¢

æ³¨æ„ï¼šä¸€æ‰¹ä¹˜å®¢ä»ç«™ç‚¹ `trip[1]` ä¸Šè½¦ï¼Œåˆ°ç«™ç‚¹ `trip[2]` ä¸‹è½¦ï¼Œå‘†åœ¨è½¦ä¸Šçš„ç«™ç‚¹åº”è¯¥æ˜¯ `[trip[1], trip[2] - 1]`ï¼Œè¿™æ˜¯éœ€è¦è¢«æ“ä½œçš„ç´¢å¼•åŒºé—´

```java
class Solution {
    public boolean carPooling(int[][] trips, int capacity) {
        int[] nums = new int[1001];
        Difference df = new Difference(nums);

        for (int[] trip : trips) {
            int val = trip[0];
            int i = trip[1];
            // ç¬¬ trip[2] ç«™ä¹˜å®¢å·²ç»ä¸‹è½¦ï¼Œ
            // å³ä¹˜å®¢åœ¨è½¦ä¸Šçš„åŒºé—´æ˜¯ [trip[1], trip[2] - 1]
            int j = trip[2] - 1;
            df.increment(i, j, val);
        }
        int[] res = df.result();

        // å®¢è½¦è‡ªå§‹è‡³ç»ˆéƒ½ä¸åº”è¯¥è¶…è½½
        for (int i = 0; i < res.length; i++) {
            if (capacity < res[i]) {
                return false;
            }
        }

        return true;
    }

    class Difference {
        private int[] diff;
        public Difference(int[] nums) {
            assert nums.length > 0;
            diff = new int[nums.length];
            diff[0] = nums[0];
            for (int i = 1; i < nums.length; i++) {
                diff[i] = nums[i] - nums[i - 1];
            }
        }

        public void increment(int i, int j, int val) {
            diff[i] += val;
            if (j + 1 < diff.length) {
                diff[j + 1] -= val;
            }
        }

        public int[] result() {
            int[] res = new int[diff.length];
            // æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
            res[0] = diff[0];
            for (int i = 1; i < diff.length; i++) {
                res[i] = res[i - 1] + diff[i];
            }
            return res;
        }
    }
}
```
```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
# æœ¬ä»£ç å·²ç»é€šè¿‡åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåº”è¯¥å¯ç›´æ¥æˆåŠŸæäº¤ã€‚

class Solution:
    def carPooling(self, trips: List[List[int]], capacity: int) -> bool:
        nums = [0] * 1001
        df = self.Difference(nums)

        for trip in trips:
            val = trip[0]
            i = trip[1]
            j = trip[2] - 1
            df.increment(i, j, val)

        res = df.result()

        # å®¢è½¦è‡ªå§‹è‡³ç»ˆéƒ½ä¸åº”è¯¥è¶…è½½
        for i in range(len(res)):
            if capacity < res[i]:
                return False
        return True

    class Difference:
        diff = []
        def __init__(self, nums):
            assert len(nums) > 0
            self.diff = [0] * len(nums)
            self.diff[0] = nums[0]
            for i in range(1, len(nums)):
                self.diff[i] = nums[i] - nums[i - 1]

        def increment(self, i, j, val):
            self.diff[i] += val
            if j + 1 < len(self.diff):
                self.diff[j + 1] -= val

        def result(self):
            res = [0] * len(self.diff)
            res[0] = self.diff[0]
            for i in range(1, len(self.diff)):
                res[i] = res[i - 1] + self.diff[i]
            return res
```
```js
var carPooling = function(trips, capacity) {
    const nums = new Array(1001).fill(0);
    const df = new Difference(nums);

    for (const trip of trips) {
        const val = trip[0];
        const i = trip[1];
        const j = trip[2] - 1;
        df.increment(i, j, val);
    }

    const res = df.result();

    // å®¢è½¦è‡ªå§‹è‡³ç»ˆéƒ½ä¸åº”è¯¥è¶…è½½
    for (let i = 0; i < res.length; i++) {
        if (capacity < res[i]) {
            return false;
        }
    }
    return true;

    function Difference(nums) {
        let diff = new Array(nums.length).fill(0);

        this.increment = function(i, j, val) {
            diff[i] += val;
            if (j + 1 < diff.length) {
                diff[j + 1] -= val;
            }
        }

        this.result = function() {
            const res = new Array(diff.length).fill(0);
            res[0] = diff[0];
            for (let i = 1; i < diff.length; i++) {
                res[i] = res[i - 1] + diff[i];
            }
            return res;
        }

        diff[0] = nums[0];
        for (let i = 1; i < nums.length; i++) {
            diff[i] = nums[i] - nums[i - 1];
        }
    }
};
```
- æ—¶é—´å¤æ‚åº¦: `O(n + m)`ï¼Œ`m` æ˜¯ `trips` æ•°ç»„çš„é•¿åº¦ï¼Œè¿™é‡Œ `n` è®¾ç½®ä¸º `1001` æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯ä»¥ç®€åŒ–ä¸ºï¼š`O(m)`
- ç©ºé—´å¤æ‚åº¦: `O(n)`ï¼ŒåŒç†ï¼Œè¿™é‡Œ `n` è®¾ç½®ä¸º `1001` æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯ä»¥ç®€åŒ–ä¸ºï¼š`O(1)`